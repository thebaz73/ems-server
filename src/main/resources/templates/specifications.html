<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head th:replace="head"/>
<body>

<header th:include="navbar" class="navbar navbar-inverse navbar-static-top" role="navigation"/>

<section class="container">
    <div class='row'>
        <div id='view'></div>
    </div>
</section>

<footer th:include="footer"/>
<section th:replace="scripts"/>
<script type="application/javascript">
    $.get("/drivers/modulator.json", function(data) {
        var json = JSON.parse(data);
        if(json.type === "object") {
            $.get("/template/object", function(template) {
                var t = Handlebars.compile(template);
                $("#view").append(t(json));
            });
        }
    });
</script>
</body>
</html>